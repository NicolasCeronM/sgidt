{% load static %}

<link rel="stylesheet" href="{% static 'panel/css/sidebar_mobile.css' %}">

<aside class="sidebar sidebar--dashboard" id="sidebar" aria-label="Navegación principal" aria-hidden="false">
  <!-- Header móvil dentro del sidebar -->
  <div class="sidebar-mobile-header">
    <strong>Menú</strong>
    <button class="sidebar-close" id="sidebarClose" aria-label="Cerrar menú">
      <i class="fas fa-times"></i>
    </button>
  </div>

  <!-- Perfil / empresa -->
  <div class="sidebar-profile" role="button" tabindex="0" aria-label="Perfil SGIDT">
    <div class="avatar" aria-hidden="true">
      <i class="fas fa-user-circle"></i>
    </div>
    <div class="profile-meta">
      <strong>{{ user.first_name }} {{ user.last_name|default:"a SGIDT" }}</strong>
      <small>Administrador</small>
    </div>
  </div>

  <div class="sidebar-sep"></div>

  <!-- Menú -->
  <nav class="sidebar-nav" role="navigation">
    <!-- GRUPO: Operaciones -->
    <div class="sidebar-group">
      <p class="sidebar-group-title">Operaciones</p>

      <a href="{% url 'panel:dashboard' %}" class="sidebar-link">
        <i class="fas fa-gauge" aria-hidden="true"></i><span>Dashboard</span>
      </a>

      <a href="{% url 'panel:documentos_page' %}" class="sidebar-link">
        <i class="fas fa-folder-open" aria-hidden="true"></i><span>Documentos</span>
      </a>

      <a href="{% url 'proveedor:proveedores_list' %}" class="sidebar-link">
        <i class="fas fa-handshake" aria-hidden="true"></i><span>Proveedores</span>
      </a>

      <a href="{% url 'panel:reportes' %}" class="sidebar-link">
        <i class="fas fa-chart-line" aria-hidden="true"></i><span>Reportes</span>
      </a>
    </div>

    <div class="sidebar-sep"></div>

    <!-- GRUPO: Administración -->
    <div class="sidebar-group">
      <p class="sidebar-group-title">Administración</p>

      <a href="{% url 'panel:validaciones' %}" class="sidebar-link">
        <i class="fas fa-circle-check" aria-hidden="true"></i><span>Validación SII</span>
      </a>

      <a href="{% url 'panel:configuraciones' %}" class="sidebar-link">
        <i class="fas fa-sliders" aria-hidden="true"></i><span>Configuración</span>
      </a>
    </div>

    <div class="sidebar-sep"></div>

    <!-- GRUPO: Soporte -->
    <div class="sidebar-group">
      <p class="sidebar-group-title">Soporte</p>

      <a href="{% url 'panel:ayuda' %}" class="sidebar-link">
        <i class="fas fa-circle-question" aria-hidden="true"></i><span>Ayuda</span>
      </a>

      <a href="{% url 'usuarios:logout' %}" class="sidebar-link sidebar-link--danger">
        <i class="fas fa-right-to-bracket" aria-hidden="true"></i><span>Cerrar Sesión</span>
      </a>
    </div>
  </nav>
</aside>

<!-- Backdrop para móvil -->
<div class="sidebar-backdrop" id="sidebarBackdrop" hidden></div>

<!-- Botón hamburguesa (se muestra sólo en <=900px) -->
<button class="sidebar-hamburger" id="sidebarHamburger" aria-label="Abrir menú" aria-controls="sidebar" aria-expanded="false">
  <i class="fas fa-bars"></i>
</button>

<script src="{% static 'panel/js/sidebar_mobile.js' %}"></script>
