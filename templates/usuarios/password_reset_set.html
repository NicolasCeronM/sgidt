{% extends "base_public.html" %}
{% load static %}

{% block title %}Nueva contraseña · SGIDT{% endblock %}
{% block css %}
<link rel="stylesheet" href="{% static 'usuarios/css/login.css' %}">
<link rel="stylesheet" href="{% static 'usuarios/css/auth.css' %}">
{% endblock %}

{% block content %}
<section class="auth-wrap">
    <div class="auth-card">
        <h1 class="auth-title">Crea una nueva contraseña</h1>
        <p class="auth-subtitle">Elige una contraseña segura para tu cuenta.</p>

        <form method="post" novalidate>
            {% csrf_token %}
            {{ form.email }} {{ form.code }} {# hidden #}

            <div class="form-row">
                <label class="form-label">Nueva contraseña</label>
                <input type="password" name="password1" class="form-input" placeholder="••••••••" required
                    aria-invalid="{{ form.password1.errors|yesno:'true,false' }}">
                {% if form.password1.errors %}
                <div class="field-error">{{ form.password1.errors|join:"<br>"|safe }}</div>
                {% endif %}
            </div>

            <div class="form-row">
                <label class="form-label">Repite la contraseña</label>
                <input type="password" name="password2" class="form-input" placeholder="••••••••" required
                    aria-invalid="{{ form.password2.errors|yesno:'true,false' }}">
                {% if form.password2.errors %}
                <div class="field-error">{{ form.password2.errors|join:"<br>"|safe }}</div>
                {% endif %}
            </div>

            <button class="btn-primary" type="submit">Actualizar contraseña</button>
        </form>

        <div class="link-row">
            <a href="{% url 'usuarios:login' %}">Volver a iniciar sesión</a>
        </div>
    </div>
</section>
{% endblock %}