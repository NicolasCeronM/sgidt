{% extends "base_app.html" %}
{% load static %}

{% block title %}{{ page_title|default:"Ajustes" }} Â· SGIDT{% endblock %}

{% block css %}
<link rel="stylesheet" href="{% static 'panel/css/ajustes.css' %}?v={% now 'U' %}">
{% endblock %}

{% block content %}
<div class="ajustes-page">
  <div class="settings-wrap">
    
    <div class="mb-4">
      <h1 class="h3 settings-title">{{ page_title|default:"Ajustes" }}</h1>
      <div class="settings-title-underline"></div>
      <p class="mt-2 settings-subtitle">
        {% if seccion == 'general' %}Configura preferencias generales.{% endif %}
        {% if seccion == 'cuenta' %}Actualiza los datos de tu cuenta.{% endif %}
        {% if seccion == 'privacidad' %}Gestiona privacidad y seguridad.{% endif %}
        {% if seccion == 'empresa' %}Gestiona los datos de tu empresa.{% endif %}
        {% if seccion == 'integraciones' %}Conecta servicios externos.{% endif %}
      </p>
    </div>

    <div class="row settings-layout">
      
      <div class="col-12 settings-content-col">
        
        {% if messages %}
        <div class="messages-stack mb-3">
          {% for message in messages %}
          <div class="alert alert-{{ message.tags|default:'info' }}">{{ message }}</div>
          {% endfor %}
        </div>
        {% endif %}

        {# ===== CONTENIDO GENERAL ===== #}
        {% if seccion == 'general' %}
          {% include "panel/ajustes/_general.html" %}
        {% endif %}

        {# ===== CONTENIDO CUENTA ===== #}
        {% if seccion == 'cuenta' %}
          {% include "panel/ajustes/_cuenta.html" %}
        {% endif %}

        {# ===== CONTENIDO PRIVACIDAD ===== #}
        {% if seccion == 'privacidad' %}
          {% include "panel/ajustes/_privacidad.html" %}
        {% endif %}
        
        {# ===== CONTENIDO EMPRESA ===== #}
        {% if seccion == 'empresa' %}
          {% include "panel/ajustes/_empresa.html" %}
        {% endif %}
        
        {# ===== CONTENIDO INTEGRACIONES ===== #}
        {% if seccion == 'integraciones' %}
          {% include "panel/ajustes/_integraciones.html" %}
        {% endif %}

      </div>

    </div> 
  </div>
</div>
{% endblock %}